<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js" integrity="sha512-3gJwYpMe3QewGELv8k/BX9vcqhryRdzRMxVfq6ngyWXwo03GFEzjsUm8Q7RZcHPHksttq7/GFoxjCVUjkjvPdw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
    </head>
    <body>
        <h1>horse + nuts = transport</h1>
        <div class="row">
            <div class="col-md-6">
                <textarea id="input" class="w-100 m-2" rows="20">
1000,3000,1,1000
1000,7000,1,1000
1000,100000,1,1000
1111,3000,1,1000
1000,3000,1,1111
1111,3334,3,4444
111,3333,3,2222
111,3333,3,1000
10000,1111111,3,1111
10000,1111111,5,1111
1000,1000000,2,1000
1111,22222222,5,3333
1000,12000,5,3000</textarea><br >
                <button class="btn btn-success" onclick="calculate()">Calculate</button>
            </div>
            <div class="col-md-6">
                <pre id="output">

                </pre>
            </div>
        </div>
        <script>
            function calculate(){
                $.ajax({
                    method: "POST",
                    url: "/transport",
                    data: JSON.stringify( $("#input").val().split("\n") ),
                    contentType: "application/json",
                    dataType: "json",
                    success: function(output){
                        $("#output").text( JSON.stringify(output, undefined, 2) )
                    },
                    failure: function(error){
                        console.log(error)
                    }
                })

            }

        </script>
    </body>
    </html>

